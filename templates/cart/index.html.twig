{% extends 'base.html.twig' %}

{% block title %}Hello CartController!{% endblock %}

{% block javascripts %}
    {#{{ encore_entry_script_tags('app') }}#}
{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="container">
    <h1 class="mb-5">Cart :</h1>

    <table class="table mt-5">
        <thead>
            <tr scope="row">
                <th scope="col">Nom</th>
                <th scope="col">Prix</th>
                <th scope="col">Quantité</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
                <tr scope="row">
                    <td scope="col">{{product.name}}</td>
                    <td scope="col">{{product.price}}€</td>
                    <td scope="col">{{quantity[product.id]}}</td>
                    <td scope="col">
                        <form action="/cart/delete/{{product.id}}">
                            <input type="submit" value="Delete">
                        </form>
                    </td>
                <tr>
            {% endfor %}
            <tr scope="row">
                <td scope="col">
                    Total of cart
                </td>
                <td colspan="3" scope="col">
                    {{total}}€
                </td>
            </tr>
        </tbody>
    </table>
    {{ form_start(commandForm) }}
        {{ form_row(commandForm.email) }}
        <button class="btn btn-primary" type="submit">
            Validate order
        </button>
    {{ form_end(commandForm) }}
</div>
{% endblock %}
